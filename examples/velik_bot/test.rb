require_relative "common"


clips = <<~HEREDOC.split("\n")
  #zaebis четко
  #живиживиживи
  (
  ))))
  +хорошей реги
  - еще один грибник
  -1
  -1 грибник!
  -2
  1
  1 рейд
  1111
  2
  2 минус
  222
  3 босса
  300 IQ play
  333
  47 уровней страданий.
  ???
  akiiz tiaes and a dream
  Apatiya 4x4
  awww hell
  clown
  DROPS ON ✅ Lets Go, E💲cape From ETO TI ?🐀
  FBI open door
  FBI! Open up!
  Follow
  Go back to lobby rat)
  hahahahahahahha
  lya kakaya
  otkisla kiska
  pyk pyk srenlk
  SIDIM PERDIM
  UWU
  Uwu twix
  ZASADA
  А как убить?
  А кто это там под камушком сидит!)
  А ты кто?
  А умереть?
  а умереть?!
  А я тут)
  Актер без оскара
  Алло это Жоска?
  Алло, Буянов?
  Алло, Никита?)
  аххаха
  бегу бегу!!!
  Бой до последнего!
  Большая бутылка
  Боты совсем крейзи!
  Бурные рукоплескания
  Бухлострим ЮХУУУ
  Бэтман
  В лоби)
  в норку
  Валерос МАШИНА 2
  Видеооператор
  Виталик -  мужское русское личное имя древнеримского происхождения.
  Внезапность - сестра таланта)
  Вовчек На турнирчике)))
  Волшебники вне Хогварста
  Вооооон он
  Вопросики
  Восседатель кустарный
  вот здесь меня и убили
  Вот настояший Штурмовик!
  все Враки
  Все дороги ведут в Тарков. 48 уровней страданий.
  Всей своей добротой прошлась по ЧВК!
  встреча с легендой
  встреча с легендой 2
  встреча с легендой 3
  вываливаемся с окон
  Гуд грена однако!
  Да блять)))
  да бляяяяяяяять анкал)))
  Да все нормально! Это Тарков)))
  дали ключ но не дали оружие
  Данила и Ко. Онлайн ,без регистрации...
  Двоих парней обидела)
  Дима тащи патроны
  до первой крови давай
  Доброй ночи, вы верите в христа спасителя?
  донт шут
  Допрыгался))
  Дроп випон!!!!
  ду ю бум-бум
  Дыра в шапке
  Есть 1
  Еще один
  Ещё один не понимающий как так то))
  Живем)
  завтыкал
  задымил
  Зарубили
  Затворная задержка как у м16
  Затупили гунны
  Заявка на por1hub
  значит встречаются два зажиматора...
  и прыгает хахах
  ить, ить! итсь!
  ихих
  Кайфовый турик
  как отписаться
  Как то так
  Какая жалость ребяяяята
  какая же я глупенькая)
  каппа
  Каппа? Сюда
  Кинули на баллы!
  клин, дикий + лут
  ключи потерял
  Коби
  Когда давно не видел ледыксы...
  Когда ЧВК хочет жить больше чем стример)
  Колдунство!
  Конкурс на лучшего актера
  Контент достойный стрима)
  Кошечка перепила Валерьянки!
  Красиво умереть тоже надо уметь)
  краснеющий каллиматор
  Крыси у рубильника!
  кто быстрее залутает 110)
  Кто купил?!
  лежит смотрит
  Лера 18+
  Лера и Два Актера!
  Лера играет в салочки!
  Лера мстит!
  Лера против двух фулочек, которые ее бояться)
  Лера против советского война!
  Лера типа пушит дверь!
  Лерон в топ позиции!
  Лерон всех убивон)
  Лех ты ?
  Лушчая игра это Тарков!
  маза дал
  маршрутка
  мастер крадун))))
  Маугли
  машина
  МАШИНА ЛЕРА
  Минус два, так минус два!
  Минус ценной двух хороших парней!
  Минус!
  Мир,труд,май,Тарков.
  Мки!
  МММ ДЕЛИШЕС <3
  мне п
  Мне так бывшая говорила
  Молекула
  Мстя за Валеру!
  Мы просто мимо пройдем
  МЫШКА СРАБОТАЛА НА СЛАВУ
  Мяу твикса)
  НАНИ!?
  Напали на сашульку
  наэлектризована жопу стулом
  не верит =)
  не убивают
  Нефиг кушать обезбол при Лере)
  Ниндзя
  Ништяк пацаны , завтра на работу)))
  Ништяк пацаны, завтра выходные)))
  Ну ты дурак или че?
  Ну что? Аванпост,пацаны. 44 уровня страданий)
  О херасе, пацан готов.
  обещание сводить на лабу от Etenaris
  обиделась лерка(
  Одним зажимом -2
  окно 3 этаж, справа
  Он знает когда...
  он прыгнул?
  они в окнах
  Оп Смотри че пакажу)
  оп Сюрприз
  опа
  Операция кусты
  Остальные два
  Откровение
  откуда он кидает гранаты? )
  Охота на белку
  Пажжаааалуйста UwU
  Парень устал
  План Эльдара
  Подстава
  Привет)
  приветик))
  Пробный стрим перед вайпом, я вернулся)))
  Продолжение убивание детей!
  Просто смешно сказала))
  пруф
  пруфы что развяка что? ТОП
  прыгну со скалы
  Прыжок Веры Брежневой
  Прыжок ЛЕРЫ
  Прыжок смерти
  Радикулит нам не страшен! (прицел забагало)
  Разницы никакой
  Расслабление Карася
  регистрация
  С ДР.
  СБЭУ ПОБЕДИЛО!!!
  Свой или чужой?
  свой среди чужих аха
  скажите пожалуйста
  Скайлайн джтр
  Скилл не пропиешь
  Скример
  снайпер блять)))
  снайперская перестрелка
  Спортсмен однако!
  Страх и ненависть в Таркове
  Страшно же так выпригивать
  Судороги
  Счастливая!
  та мне пизда..... а нет ! не пизда!
  Тарков ну совсем не страшный!
  тарковские крипы
  Твикс девушка лежебоки verified
  тоже база
  Трипер
  Турнирчик.)
  Тутуту ту ту тутутут
  Ты по металлу шлепаешь?
  У Леры грены умные)
  У нас замена
  Убегает с красным стволом
  Убивца!
  Убила флешкой
  Убрали лут с карт. Вайп близко.
  УВУ ИВАНА (СИЛЬНО)
  Удивление
  Улач
  улица
  умер молодым
  устал присел прилёг
  Уууу везение))))
  Фиркос не блять)))
  Хоба
  Хорошая
  Хорошая попытка Джони)
  Хорошо приняла!
  Хотел уехать, не получилось
  Чаво
  чекай
  чит
  Читак?
  Читеров в игре нету)
  что
  Что с греной?
  что тут происходит
  Что Что Что????!!!
  Что-то узнать хотел
  Чудо!
  Чупа без Мки теперь
  шо
  што?
  Ыыыы, поржал
  Эй парень иди сюда)))
  это не размен)))
  это тильт
  Это ты? Тормози!
  Это я
  Эээто был ты....
  Я вообще-то..
  Я кого то убила?!
  я не флудил
  я нейросеть
  Я с Сахалина
  я твой мансуль
  Ёлочки
  №"!"@#!
HEREDOC

fail unless "Алло, Буянов?" == smart_match("буянов", clips, &:itself)
fail unless "это тильт" == smart_match("тильт", clips, &:itself)
fail unless "МАШИНА ЛЕРА" == smart_match("лера машина", clips, &:itself)


# fail unless "Ключ-карта TerraGroup Labs (Красная)" == Common.method(:get_item_name).call("красная")

fail unless p(Common.price("кот"))[/\AТерапевт купит "Статуэтка кота" за \d+ ₽, цена в барахолке: \d+ ₽\z/]
fail unless p(Common.price("slick"))[/\AБарахольщик купит "Бронежилет \\"LBT-6094A Slick Plate Carrier\\" \(Олива\)" за \d+ ₽\z/]
fail unless "can't find \"Бутылка водки \\\"Тарковская\\\"\"" == p(Common.price("тарковская"))
fail unless "Механик купит \"Ручной пулемет РПК-16 5.45x39\" за 12522 ₽, цена в барахолке: 44672 ₽" == p(Common.price("буянов"))   # apply min_by -- do not select some 'Бврвбан' variation of this gun
